---
name: wechat-tech-article
description: 撰写微信公众号技术文章的结构化工作流。使用场景：用户要写一篇公众号文章、需要创建文章目录、组织素材、迭代草稿。强制遵循 blogs/wechat/README.md 的命名规范和目录结构。
---

# WeChat Tech Article

## Overview

结构化地完成一篇微信公众号技术文章，从选题到定稿。遵循 samzong/samzong/blogs/wechat 的规范。

## Hard Gates (必须满足)

1. **目录命名**：`posts/YYYY/YYYY-MM-DD-<kebab-case-english-slug>/`
2. **文件命名**：目录名与 .md 文件名完全一致
3. **Slug 规则**：只用英文（不用拼音）、用 `-` 分隔、尽量简短
4. **引用路径**：文章内引用本地文件使用相对路径 `./`

## Workflow (四阶段)

### 阶段 1: 选题与定位 (Topic & Positioning)

**输入**：用户给出的主题/想法

**执行**：
1. 问清楚：
   - 这篇文章解决读者的什么问题？
   - 目标读者是谁？（开发者、DevOps、技术管理者？）
   - 你的独特视角是什么？（别人没写过的、你自己的经验）
2. 根据主题生成 3 个候选 slug，让用户选择
3. 创建文章目录和 .md 文件骨架

**输出**：
```
posts/YYYY/YYYY-MM-DD-<slug>/
└── YYYY-MM-DD-<slug>.md  # 含基础骨架
```

**骨架模板**：
```markdown
# [标题：一句话说明价值]

> [副标题：情景化描述/问题引入]

# 前言

[为什么写这篇、谁应该读]

# [核心章节 1]

## [小节 1]

## [小节 2]

## [小节 N]

# [核心章节 2]

# [核心章节 N]

# 结语

[总结 + 行动建议]

---

*本文首发于微信公众号 [公众号名]*
```

### 阶段 2: 大纲与素材 (Outline & Research)

**执行**：
1. 细化大纲（每章节 3-5 个要点）
2. 标记需要研究的内容（数据、引用、案例）
3. 标记需要准备的素材（代码片段、截图、示意图）
4. 如果需要生成图片，使用 generate_image 工具创建

**大纲格式**：
```markdown
## [章节标题]
- 要点 A
- 要点 B [需要数据支撑]
- 要点 C [需要代码示例]
- [可能需要示意图]
```

**素材清单**（同目录下创建）：
```
posts/YYYY/YYYY-MM-DD-<slug>/
├── YYYY-MM-DD-<slug>.md
├── outline.md           # 详细大纲
├── research.md          # 研究素材
└── assets/              # 图片等资源
```

### 阶段 3: 逐节写作 (Section-by-Section Writing)

**原则**：
- 一次只写一个章节
- 写完一节后暂停，等待用户反馈
- 用户确认后再写下一节

**写作检查点**（每节完成后自问）：
- [ ] 是否有具体例子/代码/数据支撑？
- [ ] 是否避免了空洞的套话？
- [ ] 是否符合用户的写作风格？
- [ ] 引用本地资源是否使用了相对路径？

**Hook 优化**（开头段特别关注）：
- 用数据/故事/问题开头，不要用"今天我们来聊聊 X"
- 前三句决定读者是否继续

### 阶段 4: 定稿与发布准备 (Finalization)

**检查清单**：
- [ ] 标题：是否一眼明白价值？
- [ ] 副标题：是否引起好奇？
- [ ] 长度：公众号建议 2000-4000 字
- [ ] 配图：是否有封面图？
- [ ] 代码块：是否语法高亮正确？
- [ ] 链接：是否都可点击？

**发布建议**（基于 README.md）：
- 发布日：周二 21:30
- 备选：周三/四 21:30
- 朋友圈导流：发布后 10-20 分钟

**输出**：
```
✅ 文章定稿：posts/YYYY/YYYY-MM-DD-<slug>/YYYY-MM-DD-<slug>.md
📊 字数统计：[N] 字
📅 建议发布：[日期 时间]
```

## 禁止事项

- **禁止**：一口气写完全文再给用户看
- **禁止**：使用拼音做 slug
- **禁止**：使用绝对路径引用本地文件
- **禁止**：跳过大纲阶段直接写正文
- **禁止**：使用"今天我们来聊聊"等套话开头

## 风格指南

基于你在 Claude Code/Codex Skills 文章中的写作风格：

1. **开门见山**：前言直接说"我遇到了什么问题 → 如何解决"
2. **结构清晰**：多用小标题、列表、表格
3. **代码配文字**：代码块后必须有解释
4. **观点鲜明**：不怕说"这样不好"、"我认为"
5. **结尾行动化**：给读者 1-2-3 步可执行建议

## 触发方式

以下请求会自动触发此 Skill：
- "写一篇公众号文章"
- "创建 wechat 文章"
- "新建微信公众号文章"
- "帮我写一篇技术博客"
